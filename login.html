<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <pre>
        ##     ## ##    ## ########  ######## ########  ######## ########  ######## ##     ## 
        ##     ## ###   ## ##     ## ##       ##     ## ##       ##     ##    ##    ##     ## 
        ##     ## ####  ## ##     ## ##       ##     ## ##       ##     ##    ##    ##     ## 
        ##     ## ## ## ## ##     ## ######   ########  ######   ########     ##    ######### 
        ##     ## ##  #### ##     ## ##       ##   ##   ##       ##           ##    ##     ## 
        ##     ## ##   ### ##     ## ##       ##    ##  ##       ##           ##    ##     ## 
         #######  ##    ## ########  ######## ##     ## ######## ##           ##    ##     ## 
    </pre>
    <p>we love music.</p>
    <div id="login-container">
        <h2>Login</h2>
        <div id="error" class="error"></div>
        <input type="email" id="email" placeholder="Email">
        <input type="password" id="password" placeholder="Password">
        <button id="login-btn">Login</button>
    </div>
    <button id="URegister">Register?</button>
    <script>
        var URegister1 = document.getElementById('URegister')
        URegister1.addEventListener('click', function() {
            window.location.href = "index.html"
        });
    </script>
    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

    <script>
        // Initialize Firebase (replace with your Firebase project configuration)
        const firebaseConfig = {
    apiKey: "AIzaSyAS7vqBTwptXgVIqjL7Y8L2RDA-svvtB1A",
    authDomain: "underepth1.firebaseapp.com",
    databaseURL: "https://underepth1-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "underepth1",
    storageBucket: "underepth1.appspot.com",
    messagingSenderId: "368937353141",
    appId: "1:368937353141:web:f8a4305f5fb0d17c8023fc",
    measurementId: "G-ZQ224BCB9X"
        };
        firebase.initializeApp(firebaseConfig);

        // Firebase Authentication
        const auth = firebase.auth();

        // Login Function
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Handle successful login
                    const user = userCredential.user;
                    console.log('Logged in as:', user.email);
                    // Redirect to the dashboard or another page
                    window.location.href = 'main.html';
                })
                .catch((error) => {
                    // Handle login error
                    const errorMessage = error.message;
                    document.getElementById('error').innerText = errorMessage;
                });
        }

        // Attach Event Listener to the Login Button
        document.getElementById('login-btn').addEventListener('click', login);
    </script>
</body>
</html>
